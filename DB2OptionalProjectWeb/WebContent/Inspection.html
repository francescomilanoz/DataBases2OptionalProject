<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<title>Statistics</title>
<link rel="stylesheet" type="text/css" media="all"
	href="../CSS/mystyle.css" th:href="@{/css/mystyle.css}" />
</head>
<body>
<div align="right">
	<a th:href="@{/AdminHome}">Home</a>
		<a th:href="@{/Logout}">Log-out</a>
	</div>
	<h1>Statistics</h1>
	
	<form action="#" th:action="@{/LoadPastQuestionnaire}" method="POST">
			<fieldset>
				<p>
					Select a past questionnaire to load statistics
				</p>
				<p>
					<label for="products">Choose a questionnarie:</label> 
					<select name="productId" id="productId">
						<option th:each="p : ${products}" th:value="${p.getId()}"
							th:text="${p.getName()}"></option>
					</select>	</p>
					<p th:text="${noProduct}"></p>
			
				<input type="submit" name="Load statictics" value="Load statistics">
			</fieldset>
		</form>
		
		<br>
	
	<table>
		
		<tr><th>User who submitted the questionnaire</th><th>Number of answers</th><th>Details</th></tr>
		<tr th:each="u : ${usersS}">
			<td th:text="${u.getUser().getUsername()}"></td>
			<td th:text="${u.getDaily_points()}"></td>
			<td><a th:href="@{/QuestionnaireDetails(username=${u.getUser().getUsername()}, product_id=${productSelected.getProduct_id()})}">Details</a></td></tr>
		
	</table>
	<br><br>
	<table>
	
	<tr><th>User who cancelled the questionnaire</th></tr>
		<tr th:each="g : ${usersC}">
			<td th:text="${g.getUsername()}"></td></tr>
	</table>
	
</body>
</html>